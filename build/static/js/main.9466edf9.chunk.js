(this.webpackJsonpyoutuparty=this.webpackJsonpyoutuparty||[]).push([[0],{112:function(e,t,n){},148:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),o=n(20),a=n.n(o),i=(n(86),n(87),n(19)),s=n.n(i),l=n(39),u=n(5),j=n(166),d=n(172),p=n(167),x=n(169),f=n(168),b=n(67),O=n.n(b),m=n(22),h=n(7),g=n(165),y=n(2);var v=function(e){var t=Object(m.c)(),n=Object(c.useState)(e.userName),r=Object(u.a)(n,2),o=r[0],a=r[1];return Object(y.jsxs)("div",{style:{padding:"10px",marginTop:"10px"},children:[Object(y.jsxs)("label",{style:{display:"flex",flexDirection:"row"},children:["Enter Your name:",Object(y.jsx)("input",{type:"text",value:o,style:{marginLeft:"15px"},onChange:function(e){a(e.target.value)}})]}),Object(y.jsxs)("div",{style:{display:"flex",flexDirection:"row",marginLeft:"165px",marginTop:"20px"},children:[Object(y.jsx)(g.a,{variant:"contained",color:"primary",onClick:function(e){e.preventDefault(),t.close(o)},children:"Confirm"}),Object(y.jsx)(g.a,{variant:"contained",color:"secondary",style:{marginLeft:"10px"},onClick:function(e){e.preventDefault(),t.close()},children:"Cancel"})]})]})},w=Object(j.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1,marginRight:e.spacing(10)}}}));var S=function(e){var t=Object(h.f)(),n=w(),r=Object(c.useState)(e.userName),o=Object(u.a)(r,2),a=o[0],i=o[1],j=function(){t.push("/")},b=function(){var e=Object(l.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.b)(Object(y.jsx)(v,{userName:a}),{title:"Hello!"});case 2:(t=e.sent)&&i(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(y.jsx)("div",{className:n.root,children:Object(y.jsx)(d.a,{position:"static",children:Object(y.jsxs)(p.a,{children:[Object(y.jsx)(f.a,{edge:"start",className:n.menuButton,color:"inherit","aria-label":"menu",onClick:j,children:Object(y.jsx)(O.a,{})}),Object(y.jsx)(x.a,{variant:"h6",onClick:j,className:n.title,children:"Home"}),Object(y.jsx)("form",{children:Object(y.jsx)(x.a,{variant:"h6",className:n.title,onClick:b,children:a})})]})})})},D=n(69),C=n.n(D),N=n(70),k=n.n(N),I=n(27),R=n(68),L=n.n(R).a.create({baseURL:"https://api.yutuparty.com/"}),J="wss://api.yutuparty.com/ws/chat/";n(112);var E=function(){var e=Object(m.c)(),t=Object(c.useState)(),n=Object(u.a)(t,2),r=n[0],o=n[1];return Object(y.jsxs)("div",{style:{padding:"10px",marginTop:"10px"},children:[Object(y.jsxs)("label",{style:{display:"flex",flexDirection:"row"},children:["Enter Room Id:",Object(y.jsx)("input",{type:"text",style:{marginLeft:"15px"},onChange:function(e){o(e.target.value)}})]}),Object(y.jsxs)("div",{style:{display:"flex",flexDirection:"row",marginLeft:"165px",marginTop:"20px"},children:[Object(y.jsx)(g.a,{variant:"contained",color:"primary",onClick:function(t){t.preventDefault(),e.close(r)},children:"Join Room"}),Object(y.jsx)(g.a,{variant:"contained",color:"secondary",style:{marginLeft:"10px"},onClick:function(t){t.preventDefault(),e.close()},children:"Cancel"})]})]})};var U=function(e){var t=Object(h.f)(),n=function(){var e=Object(l.a)(s.a.mark((function e(){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.b)(Object(y.jsx)(E,{}),{title:"Join a room"});case 2:(n=e.sent)?L.post("/api/joinRoom/",{room_name:n}).then((function(e){console.log(e),t.push({pathname:"/joinroom",state:{roomId:n}})})).catch((function(e){Object(m.a)("Wrong Room Id","Ooops")})):console.log("NotDone");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(y.jsx)("div",{children:Object(y.jsxs)("div",{style:{padding:"10px",marginTop:"4%",marginLeft:"15%",display:"flex",flexDirection:"row"},children:[Object(y.jsx)(I.b,{style:{width:"30%",display:"flex",flexDirection:"column",padding:"10px",textDecoration:"none"},onClick:function(){L.post("/api/createRoom/").then((function(e){t.push({pathname:"/joinroom",state:{roomId:e.data.data}})}))},children:Object(y.jsxs)(g.a,{variant:"contained",children:[Object(y.jsx)(C.a,{style:{fontSize:"50px"}}),"Create a room"]})}),Object(y.jsx)("div",{style:{width:"30%",display:"flex",flexDirection:"column",padding:"10px",marginLeft:"90px",textDecoration:"none"},children:Object(y.jsxs)(g.a,{variant:"contained",onClick:n,children:[Object(y.jsx)(k.a,{style:{fontSize:"50px"}}),"Join a room"]})})]})})},T=n(51),F=n(32),B=n(71),P=n.n(B),z=n(30);var G=function(e){var t=Object(c.useState)(!1),n=Object(u.a)(t,2),r=n[0],o=n[1],a=e.roomId,i=J+a+"/",s=new z.a(i),l=Object(c.useRef)(null),j=function(e){if(e.preventDefault(),o(!r),r){s.send(JSON.stringify({playStatus:"Stop"}))}else{s.send(JSON.stringify({playStatus:"Resume"}))}};return Object(c.useEffect)((function(){return l.current=new WebSocket(i),l.current.onopen=function(){return console.log("ws opened")},l.current.onclose=function(){return console.log("ws closed")},l.current.onmessage=function(e){"Resume"===JSON.parse(e.data).playStatus?o(!0):o(!1)},function(){l.current.close()}})),Object(y.jsxs)("div",{children:[Object(y.jsx)(P.a,{style:e.style,url:e.videoUrl,playing:r,playIcon:Object(y.jsx)("button",{onClick:j,children:"Play"}),width:"890px",height:"500px"}),Object(y.jsxs)("button",{style:e.style,onClick:j,children:[r?"Pause":"Play"," "]})]})},H=n(73),M=n(72);var W=function(e){var t=Object(c.useState)([]),n=Object(u.a)(t,2),r=n[0],o=n[1],a=Object(c.useState)(""),i=Object(u.a)(a,2),s=i[0],l=i[1],j=Object(c.useRef)(null),d=e.roomId,p=J+d+"/",x=new z.a(p);return Object(c.useEffect)((function(){return j.current=x,j.current.onopen=function(){return console.log("ws opened")},j.current.onclose=function(){return console.log("ws closed")},j.current.onmessage=function(e){var t=JSON.parse(e.data);t.message&&o((function(e){return[].concat(Object(H.a)(e),[t.message])}))},function(){j.current.close()}}),[r]),Object(y.jsxs)("div",{children:[Object(y.jsx)(M.Scrollbars,{style:{padding:"11.4px 12px",width:"100%",height:450},children:r.map((function(e){return Object(y.jsx)("p",{children:e})}))}),Object(y.jsx)("form",{onSubmit:function(e){e.preventDefault();var t={message:s,videoUrl:null};x.send(JSON.stringify(t)),l("")},children:Object(y.jsxs)("label",{children:["Enter Message:",Object(y.jsx)("input",{type:"text",name:"message",value:s,onChange:function(e){return l(e.target.value)}})]})})]})},Y=n(170),A={bgcolor:"background.paper",m:1,style:{height:400,padding:5},borderColor:"text.primary"};var V=function(e){var t,n=Object(c.useRef)(null),r=J+e.roomId+"/",o=new z.a(r),a=Object(c.useState)(""),i=Object(u.a)(a,2),s=i[0],l=i[1],j=Object(c.useState)(""),d=Object(u.a)(j,2),p=d[0],x=d[1];console.log("Username is - ",e.userName),Object(c.useEffect)((function(){return n.current=o,n.current.onopen=function(){return console.log("ws opened")},n.current.onclose=function(){return console.log("ws closed")},n.current.onmessage=function(e){var t=JSON.parse(e.data);t.videoUrl&&x(t.videoUrl)},function(){n.current.close()}}),[p]);var f=(t={display:"flex",flexDirection:"column",float:"right",marginLeft:10},Object(F.a)(t,"float","bottom"),Object(F.a)(t,"marginTop",20),Object(F.a)(t,"justifyContent","flex-end"),t);return Object(y.jsxs)("div",{children:[Object(y.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(y.jsx)("form",{style:{fontFamily:"Arial",paddingBottom:"20px",marginLeft:"20px",display:"flex",flexDirection:"column"},children:Object(y.jsxs)("label",{children:[Object(y.jsx)("input",{style:{height:"35px",padding:"5px",width:"70%"},type:"text",name:"name",placeholder:"Enter Video Url",value:s,onChange:function(e){return l(e.target.value)}}),Object(y.jsx)(g.a,{variant:"contained",color:"primary",onClick:function(e){e.preventDefault();var t={videoUrl:s,message:null};o.send(JSON.stringify(t)),l("")},children:"Submit"})]})}),Object(y.jsx)("div",{style:{display:"flex",flexDirection:"column",textDecoration:"none",marginLeft:"650px"},children:Object(y.jsxs)("strong",{children:["Room Id: ",e.roomId]})})]}),Object(y.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(y.jsx)(G,{style:{marginLeft:"20px",display:"flex",flexDirection:"column",paddingRight:"10px"},videoUrl:p,roomId:e.roomId}),Object(y.jsx)(Y.a,Object(T.a)(Object(T.a)({borderLeft:2.5},A),{},{children:Object(y.jsx)(W,{style:f,roomId:e.roomId})}))]})]})};var _=function(e){var t=Object(h.g)(),n=Object(c.useState)(""),r=Object(u.a)(n,2),o=r[0],a=r[1],i=Object(c.useState)(""),s=Object(u.a)(i,2),l=s[0],j=s[1],d=Object(c.useRef)(!0);return d.current?(a(t.state.roomId),j(t.state.userName),d.current=!1):console.log("Repeated load"),Object(y.jsx)("div",{children:Object(y.jsx)("div",{style:{padding:"10px",display:"flex",flexDirection:"row"},children:Object(y.jsx)(V,{style:{display:"flex",flexDirection:"column",padding:"10px",textDecoration:"none"},roomId:o,userName:l})})})};var q=function(){return Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)(I.a,{children:[Object(y.jsx)(S,{userName:"Enter Your Name"}),Object(y.jsxs)(h.c,{children:[Object(y.jsx)(h.a,{exact:!0,path:"/",component:U}),Object(y.jsx)(h.a,{exact:!0,path:"/home",component:U}),Object(y.jsx)(h.a,{path:"/joinroom",component:_})]})]})})},K=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,174)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,o=t.getLCP,a=t.getTTFB;n(e),c(e),r(e),o(e),a(e)}))};a.a.render(Object(y.jsx)(r.a.StrictMode,{children:Object(y.jsx)(q,{})}),document.getElementById("root")),K()},86:function(e,t,n){},87:function(e,t,n){}},[[148,1,2]]]);
//# sourceMappingURL=main.9466edf9.chunk.js.map